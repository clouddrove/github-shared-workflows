## [terraform drifts Workflow](https://github.com/clouddrove/github-shared-workflows/blob/master/.github/workflows/tfdrifts.yml)

This workflow automates Terraform configuration drift detection by running terraform init/plan against your live infrastructure and signaling when resources have changed outside of code. The reusable workflow is stored at `.github/workflows/tfdrifts.yml` in the shared repo.

#### Usage
Terraform drift detection within a GitHub environment typically involves automating the terraform plan command to compare the infrastructure defined in your Terraform configuration files with the actual state of your cloud resources. This process can be integrated into GitHub Actions to provide continuous monitoring and alerting for any discrepancies.

**Core Concept**:

- *Terraform Plan*: The terraform plan command is central to drift detection. When executed, it compares the current Terraform state file with the desired configuration in your .tf files and the actual state of your cloud provider resources. If differences are found, it will output the changes that would be applied.

- *Drift*: Drift occurs when the actual state of your infrastructure diverges from the desired state defined in your Terraform code. This can happen due to manual changes made outside of Terraform, or unexpected actions from services interacting with your cloud resources.

**Key capabilities**:
- Detect drift via terraform plan.
- Works with AWS, Azure, or GCP (select with provider).

#### Example
```yaml
name:  TF-Drift
on:
  push:
    branches: [ master ]
  pull_request:
  workflow_dispatch:
jobs:
  tf-lint:
    uses: clouddrove/github-shared-workflows/.github/workflows/tfdrift.yml@master
    secrets:
      GITHUB: ${{ secrets.GITHUB }}
```